<div class="container">
  <!-- Header con usuario -->
  <div class="header">
    <div>
      <h1>Sistema de Parqueadero</h1>
      <p>Gesti√≥n de veh√≠culos y cobro de servicios</p>
    </div>
    <div class="user-info">
      <span>Bienvenido, {{ currentUser?.username }}</span>
      <button class="logout-btn" (click)="logout()">Cerrar Sesi√≥n</button>
      <span> BD: {{ dbInfo?.version }} </span>
    </div>
  </div>

  <!-- Stats Grid -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-card-header">
        <div class="stat-card-title">Veh√≠culos Estacionados</div>
        <svg class="stat-card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"></path>
          <circle cx="7" cy="17" r="2"></circle>
          <path d="M9 17h6"></path>
          <circle cx="17" cy="17" r="2"></circle>
        </svg>
      </div>
      <div class="stat-card-value">{{ stats.parkedVehicles }}</div>
    </div>

    <div class="stat-card">
      <div class="stat-card-header">
        <div class="stat-card-title">Espacios Disponibles</div>
        <svg class="stat-card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M9 17V7h4a3 3 0 0 1 0 6H9"></path>
        </svg>
      </div>
      <div class="stat-card-value">{{ stats.availableSpaces }}</div>
    </div>

    <div class="stat-card">
      <div class="stat-card-header">
        <div class="stat-card-title">Veh√≠culos Hoy</div>
        <svg class="stat-card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 6v6l4 2"></path>
          <circle cx="12" cy="12" r="10"></circle>
        </svg>
      </div>
      <div class="stat-card-value">{{ stats.vehiclesToday }}</div>
    </div>

    <div class="stat-card">
      <div class="stat-card-header">
        <div class="stat-card-title">Ingresos del D√≠a</div>
        <svg class="stat-card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="12" x2="12" y1="2" y2="22"></line>
          <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
        </svg>
      </div>
      <div class="stat-card-value">${{ stats.dailyIncome | number:'1.2-2' }}</div>
    </div>
  </div>

  <!-- Tabs Container -->
  <div class="tabs-container">
    <div class="tabs-list">
      <button 
        class="tab-button" 
        [class.active]="activeTab === 'entry'"
        (click)="setActiveTab('entry')">
        Registro de Entrada
      </button>
      <button 
        class="tab-button" 
        [class.active]="activeTab === 'parked'"
        (click)="setActiveTab('parked')">
        Veh√≠culos Estacionados
      </button>
      <button 
        class="tab-button" 
        [class.active]="activeTab === 'history'"
        (click)="setActiveTab('history')">
        Historial
      </button>
      <button 
        *ngIf="role === 'ADMIN'"
        class="tab-button" 
        [class.active]="activeTab === 'reports'"
        (click)="setActiveTab('reports')">
        Reportes
      </button>
      <button 
        *ngIf="role === 'ADMIN'"
        class="tab-button" 
        [class.active]="activeTab === 'audit'"
        (click)="setActiveTab('audit')">
        Auditor√≠a
      </button>
      <button 
        *ngIf="role === 'ADMIN'"
        class="tab-button" 
        [class.active]="activeTab === 'users'"
        (click)="setActiveTab('users')">
        Gesti√≥n de Usuarios
      </button>
      <button 
        *ngIf="role === 'ADMIN'"
        class="tab-button" 
        [class.active]="activeTab === 'backups'"
        (click)="setActiveTab('backups')">
        Copias de Seguridad
      </button>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-state">
      <p>Cargando datos del dashboard...</p>
    </div>

    <!-- Tab Content -->
    <div class="tab-content" [class.active]="activeTab === 'entry' && !isLoading">
      <div class="form-card">
        <div class="form-card-header">
          <div class="form-card-title">Registrar Entrada de Veh√≠culo</div>
          <div class="form-card-description">Ingrese los datos del veh√≠culo que est√° ingresando al parqueadero</div>
        </div>
        <div class="form-card-content">
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label" for="plateNumber">Placa del Veh√≠culo</label>
              <input 
                class="form-input" 
                type="text" 
                id="plateNumber" 
                placeholder="Ej: ABC123" 
                maxlength="10"
                [(ngModel)]="entryPlateNumber"
                (input)="onPlateInput($event)"
                [disabled]="isRegistering">
            </div>
            <div class="form-group">
              <label class="form-label" for="vehicleType">Tipo de Veh√≠culo</label>
              <select 
                class="form-select" 
                id="vehicleType"
                [(ngModel)]="entryVehicleType"
                [disabled]="isRegistering">
                <option value="CAR">Autom√≥vil</option>
                <option value="MOTORCYCLE">Motocicleta</option>
                <option value="TRUCK">Cami√≥n</option>
              </select>
            </div>
            <div class="form-group" style="justify-content: flex-end;">
              <button 
                class="form-button" id="registerEntry"
                (click)="registerVehicleEntry()"
                [disabled]="isRegistering || !entryPlateNumber.trim()">
                <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M5 12h14"></path>
                  <path d="M12 5v14"></path>
                </svg>
                {{ isRegistering ? 'Registrando...' : 'Registrar Entrada' }}
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Alertas -->
      <div *ngIf="entryAlert.message" class="alert" [class.alert-success]="entryAlert.type === 'success'" [class.alert-error]="entryAlert.type === 'error'">
        {{ entryAlert.message }}
      </div>

      <!-- Informaci√≥n de Tarifas 
      <div class="tarifas-info">
        <h3>üí∞ Tarifas Vigentes</h3>
        <ul>
          <li><strong>Autom√≥vil:</strong> $20.00 por hora - $200.00 por d√≠a</li>
          <li><strong>Motocicleta:</strong> $10.00 por hora - $100.00 por d√≠a</li>
          <li><strong>Camion:</strong> $40.00 por hora - $400.00 por d√≠a</li>
        </ul>
      </div> -->
    </div>

    <div class="tab-content" [class.active]="activeTab === 'parked' && !isLoading">
      <div class="form-card">
        <div class="form-card-header">
          <div class="form-card-title">Veh√≠culos Estacionados</div>
          <div class="form-card-description">Lista de veh√≠culos actualmente en el parqueadero</div>
        </div>
        <div class="form-card-content">
          <!-- Buscador 
          <div class="form-grid" style="margin-bottom: 1.5rem;">
            <div class="form-group">
              <label class="form-label" for="searchPlate">Buscar por placa</label>
              <input 
                class="form-input" 
                type="text" 
                id="searchPlate" 
                placeholder="Ej: ABC123"
                [(ngModel)]="searchPlate"
                (input)="onSearchPlate()"
                maxlength="10">
            </div>
          </div> -->

          <!-- Tabla SOLO cuando hay datos -->
          <div *ngIf="filteredParkedVehicles.length > 0" class="table-container">
            <table id="parkedTable">
              <thead>
                <tr>
                  <th>Placa</th>
                  <th>Tipo</th>
                  <th>Hora de Entrada</th>
                  <th>Tiempo Estacionado</th>
                  <th>Costo Actual</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="parkedTableBody">
                <tr *ngFor="let vehicle of filteredParkedVehicles">
                  <td>{{ vehicle.plateNumber }}</td>
                  <td>
                    <span class="badge" [class.badge-car]="vehicle.vehicleType === 'CAR'" 
                          [class.badge-motorcycle]="vehicle.vehicleType === 'MOTORCYCLE'"
                          [class.badge-truck]="vehicle.vehicleType === 'TRUCK'">
                      {{ getVehicleTypeLabel(vehicle.vehicleType) }}
                    </span>
                  </td>
                  <td>{{ formatDateTime(vehicle.entryTime) }}</td>
                  <td>{{ calculateParkedTime(vehicle.entryTime) }}</td>
                  <td>${{ calculateCurrentCost(vehicle.entryTime, vehicle.vehicleType) | number:'1.2-2' }}</td>
                  <td class="actions-cell">
                    <button class="action-button exit" 
                            (click)="registerVehicleExit(vehicle.plateNumber)"
                            [disabled]="isProcessingExit === vehicle.plateNumber">
                      {{ isProcessingExit === vehicle.plateNumber ? 'Procesando...' : 'Registrar Salida' }}
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Estado vac√≠o - EXACTO como tu dise√±o -->
          <div *ngIf="parkedVehicles.length === 0" class="empty-state" id="emptyParked">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"></path>
              <circle cx="7" cy="17" r="2"></circle>
              <path d="M9 17h6"></path>
              <circle cx="17" cy="17" r="2"></circle>
            </svg>
            <p>No hay veh√≠culos estacionados actualmente.</p>
          </div>

          <!-- Estado de b√∫squeda sin resultados -->
          <div *ngIf="parkedVehicles.length > 0 && filteredParkedVehicles.length === 0" class="empty-state">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <p>No se encontraron veh√≠culos con la placa "{{ searchPlate }}".</p>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" [class.active]="activeTab === 'history' && !isLoading">
      <div class="form-card">
        <div class="form-card-header">
          <div class="form-card-title">Historial</div>
          <div class="form-card-description">Registro hist√≥rico de entradas y salidas</div>
        </div>
        <div class="form-card-content">
          <!-- Controles de paginaci√≥n y filtros -->
          <div class="form-grid" style="margin-bottom: 1.5rem;">
            <div class="form-group">
              <label class="form-label" for="itemsPerPage">Registros por p√°gina</label>
              <select class="form-select" id="itemsPerPage" [(ngModel)]="itemsPerPage" (change)="loadVehicleHistory()">
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="50">50</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label" for="historySearch">Buscar por placa</label>
              <input 
                class="form-input" 
                type="text" 
                id="historySearch" 
                placeholder="Ej: ABC123"
                [(ngModel)]="historySearch"
                (input)="onHistorySearch()"
                maxlength="10">
            </div>
          </div>

          <!-- Tabla de historial SOLO cuando hay datos -->
          <div *ngIf="filteredVehicleHistory.length > 0" class="table-container">
            <table id="historyTable">
              <thead>
                <tr>
                  <th>Placa</th>
                  <th>Tipo</th>
                  <th>Entrada</th>
                  <th>Salida</th>
                  <th>Tiempo Total</th>
                  <th>Costo</th>
                </tr>
              </thead>
              <tbody id="historyTableBody">
                <tr *ngFor="let record of paginatedHistory">
                  <td>{{ record.plateNumber }}</td>
                  <td>
                    <span class="badge" [class.badge-car]="record.vehicleType === 'CAR'" 
                          [class.badge-motorcycle]="record.vehicleType === 'MOTORCYCLE'"
                          [class.badge-truck]="record.vehicleType === 'TRUCK'">
                      {{ getVehicleTypeLabel(record.vehicleType) }}
                    </span>
                  </td>
                  <td>{{ formatDateTime(record.entryTime) }}</td>
                  <td>{{ record.exitTime ? formatDateTime(record.exitTime) : '--' }}</td>
                  <td>{{ record.duration ? formatDuration(record.duration) : '--' }}</td>
                  <td>{{ record.amount ? '$' + (record.amount | number:'1.2-2') : '--' }}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Paginaci√≥n -->
          <div *ngIf="filteredVehicleHistory.length > 0" class="pagination-container">
            <div class="pagination-info">
              Mostrando {{ startIndex }}-{{ endIndex }} de {{ totalItems }} registros
            </div>
            <div class="pagination-controls">
              <button class="pagination-btn" 
                      (click)="previousPage()" 
                      [disabled]="currentPage === 1">
                ‚Äπ Anterior
              </button>
              <span class="pagination-page">P√°gina {{ currentPage }} de {{ totalPages }}</span>
              <button class="pagination-btn" 
                      (click)="nextPage()" 
                      [disabled]="currentPage === totalPages">
                Siguiente ‚Ä∫
              </button>
            </div>
          </div>

          <!-- Estado vac√≠o -->
          <div *ngIf="vehicleHistory.length === 0" class="empty-state" id="emptyHistory">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 6v6l4 2"></path>
              <circle cx="12" cy="12" r="10"></circle>
            </svg>
            <p>No hay registros hist√≥ricos disponibles.</p>
          </div>

          <!-- Estado de b√∫squeda sin resultados -->
          <div *ngIf="vehicleHistory.length > 0 && filteredVehicleHistory.length === 0" class="empty-state">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <p>No se encontraron registros con la placa "{{ historySearch }}".</p>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" [class.active]="activeTab === 'reports' && !isLoading">
      <div class="form-card">
        <div class="form-card-header">
          <div class="form-card-title">Reportes</div>
          <div class="form-card-description">Generar reportes de ingresos y estad√≠sticas</div>
        </div>
        <div class="form-card-content">
          <!-- Filtros de Reporte -->
          <div class="form-grid" style="margin-bottom: 1.5rem;">
            <div class="form-group">
              <label class="form-label" for="reportType">Tipo de Reporte</label>
              <select class="form-select" id="reportType" [(ngModel)]="reportType" (change)="onReportTypeChange()">
                <option value="daily">Reporte Diario</option>
                <option value="custom">Reporte Personalizado</option>
              </select>
            </div>
            
            <!-- Filtro para reporte diario -->
            <div class="form-group" *ngIf="reportType === 'daily'">
              <label class="form-label" for="dailyRange">Rango</label>
              <select class="form-select" id="dailyRange" [(ngModel)]="dailyRange" (change)="onDailyRangeChange()">
                <option value="today">Hoy</option>
                <option value="last_week">√öltima Semana</option>
                <option value="last_month">√öltimo Mes</option>
              </select>
            </div>

            <!-- Filtros para reporte personalizado -->
            <div class="form-group" *ngIf="reportType === 'custom'">
              <label class="form-label" for="startDate">Fecha Inicio</label>
              <input 
                class="form-input" 
                type="date" 
                id="startDate"
                [(ngModel)]="startDate"
                [max]="endDate || maxDate">
            </div>
            
            <div class="form-group" *ngIf="reportType === 'custom'">
              <label class="form-label" for="endDate">Fecha Fin</label>
              <input 
                class="form-input" 
                type="date" 
                id="endDate"
                [(ngModel)]="endDate"
                [min]="startDate"
                [max]="maxDate">
            </div>

            <div class="form-group" style="align-items: flex-end;">
              <button 
                class="form-button" 
                (click)="generateReport()"
                [disabled]="isGeneratingReport || !isReportFormValid()">
                <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                {{ isGeneratingReport ? 'Generando...' : 'Generar Reporte' }}
              </button>
            </div>
          </div>

          <!-- Resultados del Reporte -->
          <div *ngIf="reportData && reportData.length > 0" id="reportResults">
            
            <!-- Resumen Estad√≠stico -->
            <div class="stats-grid" style="margin-bottom: 2rem;">
              <div class="stat-card">
                <div class="stat-card-header">
                  <div class="stat-card-title">Total Ingresos</div>
                  <svg class="stat-card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" x2="12" y1="2" y2="22"></line>
                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                  </svg>
                </div>
                <div class="stat-card-value">${{ totalIncome | number:'1.2-2' }}</div>
              </div>

              <div class="stat-card">
                <div class="stat-card-header">
                  <div class="stat-card-title">Veh√≠culos Atendidos</div>
                  <svg class="stat-card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"></path>
                    <circle cx="7" cy="17" r="2"></circle>
                    <path d="M9 17h6"></path>
                    <circle cx="17" cy="17" r="2"></circle>
                  </svg>
                </div>
                <div class="stat-card-value">{{ totalVehicles }}</div>
              </div>

              <div class="stat-card">
                <div class="stat-card-header">
                  <div class="stat-card-title">Duraci√≥n Promedio</div>
                  <svg class="stat-card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 6v6l4 2"></path>
                    <circle cx="12" cy="12" r="10"></circle>
                  </svg>
                </div>
                <div class="stat-card-value">{{ averageDuration }}</div>
              </div>

              <div class="stat-card">
                <div class="stat-card-header">
                  <div class="stat-card-title">Actualmente Estacionados</div>
                  <svg class="stat-card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M9 17V7h4a3 3 0 0 1 0 6H9"></path>
                  </svg>
                </div>
                <div class="stat-card-value">{{ currentParked }}</div>
              </div>
            </div>

            <!-- Tabla de Reporte Detallado -->
            <div class="table-container">
              <table id="reportTable">
                <thead>
                  <tr>
                    <th>Fecha</th>
                    <th>Tipo de Veh√≠culo</th>
                    <th>Veh√≠culos Atendidos</th>
                    <th>Ingresos</th>
                    <th>Duraci√≥n Promedio</th>
                  </tr>
                </thead>
                <tbody id="reportTableBody">
                  <tr *ngFor="let item of reportData">
                    <td>{{ extractDateFromISO(item.report_date) }}</td>
                    <td>
                      <span class="badge" 
                            [class.badge-car]="item.vehicleType === 'CAR'" 
                            [class.badge-motorcycle]="item.vehicleType === 'MOTORCYCLE'" 
                            [class.badge-truck]="item.vehicleType === 'TRUCK'">
                        {{ item.vehicle_type_description || getVehicleTypeLabel(item.vehicleType) }}
                      </span>
                    </td>
                    <td>{{ item.vehicles_served }}</td>
                    <td>${{ item.total_income | number:'1.2-2' }}</td>
                    <td>{{ formatDuration(item.avg_duration_minutes) }}</td>
                  </tr>
                </tbody>
                <tfoot *ngIf="reportData.length > 1">
                  <tr style="font-weight: bold; background-color: #f8fafc;">
                    <td>TOTAL</td>
                    <td>-</td>
                    <td>{{ totalVehicles }}</td>
                    <td>${{ totalIncome | number:'1.2-2' }}</td>
                    <td>{{ averageDuration }}</td>
                  </tr>
                </tfoot>
              </table>
            </div>

            <!-- Informaci√≥n del Per√≠odo -->
            <div class="report-period" style="margin-top: 1rem; padding: 1rem; background-color: #f0f9ff; border-radius: 0.5rem; border: 1px solid #bae6fd;">
              <strong>Per√≠odo del reporte:</strong> {{ getReportPeriodText() }}
            </div>
          </div>

          <!-- Estado sin datos -->
          <div *ngIf="reportData && reportData.length === 0" class="empty-state">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
              <line x1="16" y1="13" x2="8" y2="13"></line>
              <line x1="16" y1="17" x2="8" y2="17"></line>
              <polyline points="10 9 9 9 8 9"></polyline>
            </svg>
            <p>No hay datos disponibles para el per√≠odo seleccionado.</p>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="activeTab === 'audit' && role === 'ADMIN'">
      <app-audit-trail></app-audit-trail>
    </div>

    <div *ngIf="activeTab === 'users' && role === 'ADMIN'">
      <app-users></app-users>
    </div>

    <div *ngIf="activeTab === 'backups' && role === 'ADMIN'">
      <app-backups></app-backups>
    </div>

    
  </div>

  <!-- Refresh Button 
  <div class="refresh-section">
    <button class="refresh-btn" (click)="refreshData()">
      üîÑ Actualizar Datos
    </button>
  </div>
</div> -->